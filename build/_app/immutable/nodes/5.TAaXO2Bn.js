import{s as ge,w as Pe,e as _,a as I,c as h,b as T,d as M,g as $,f as y,h as r,i as X,j as o,l as Y,G as at,H as st,x as Se,y as Re,z as Ze,r as ke,I as ot,D as Ye,t as be,p as we,v as re,k as et,q as je,J as tt,K as it,L as rt,m as ut,M as dt,u as ct}from"../chunks/scheduler.B2_zg01e.js";import{S as Ce,i as ye,t as H,b as R,f as ft,c as ze,a as Ee,m as Ie,d as Me,e as qe,h as Ae,g as Fe}from"../chunks/index.BZMHPOVI.js";import{e as Ge,U as _t,s as Ke}from"../chunks/index.CQFOhXS_.js";import{e as lt}from"../chunks/forms.OrjypM-T.js";import{w as ht}from"../chunks/entry.BaoNi90D.js";const mt=l=>({}),We=l=>({});function pt(l){let e,t,n,a,s,d,k,w,u,m="Nie",i,C,v;const p=l[3].header,c=Pe(p,l,l[2],We),f=l[3].default,g=Pe(f,l,l[2],null);return{c(){e=_("dialog"),t=_("div"),c&&c.c(),n=I(),a=_("hr"),s=I(),g&&g.c(),d=I(),k=_("hr"),w=I(),u=_("button"),u.textContent=m,this.h()},l(b){e=h(b,"DIALOG",{class:!0});var L=T(e);t=h(L,"DIV",{class:!0});var U=T(t);c&&c.l(U),n=M(U),a=h(U,"HR",{}),s=M(U),g&&g.l(U),d=M(U),k=h(U,"HR",{}),w=M(U),u=h(U,"BUTTON",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-1h4ymin"&&(u.textContent=m),U.forEach(y),L.forEach(y),this.h()},h(){r(u,"class","px-4 py-2 bg-blue-500 text-white rounded my-2 svelte-19dligb"),u.autofocus=!0,r(t,"class","flex flex-col items-center justify-center svelte-19dligb"),r(e,"class","svelte-19dligb")},m(b,L){X(b,e,L),o(e,t),c&&c.m(t,null),o(t,n),o(t,a),o(t,s),g&&g.m(t,null),o(t,d),o(t,k),o(t,w),o(t,u),l[6](e),i=!0,u.focus(),C||(v=[Y(u,"click",l[5]),Y(t,"click",at(l[4])),Y(e,"close",l[7]),Y(e,"click",st(l[8]))],C=!0)},p(b,[L]){c&&c.p&&(!i||L&4)&&Se(c,p,b,b[2],i?Ze(p,b[2],L,mt):Re(b[2]),We),g&&g.p&&(!i||L&4)&&Se(g,f,b,b[2],i?Ze(f,b[2],L,null):Re(b[2]),null)},i(b){i||(H(c,b),H(g,b),i=!0)},o(b){R(c,b),R(g,b),i=!1},d(b){b&&y(e),c&&c.d(b),g&&g.d(b),l[6](null),C=!1,ke(v)}}}function vt(l,e,t){let{$$slots:n={},$$scope:a}=e,{showModal:s}=e,d;function k(C){ot.call(this,l,C)}const w=()=>d.close();function u(C){Ye[C?"unshift":"push"](()=>{d=C,t(1,d)})}const m=()=>t(0,s=!1),i=()=>d.close();return l.$$set=C=>{"showModal"in C&&t(0,s=C.showModal),"$$scope"in C&&t(2,a=C.$$scope)},l.$$.update=()=>{l.$$.dirty&3&&d&&s&&d.showModal()},[s,d,a,n,k,w,u,m,i]}class bt extends Ce{constructor(e){super(),ye(this,e,vt,pt,ge,{showModal:0})}}function wt(l){let e,t="Czy na pewno chcesz usunąć użytkownika?",n,a,s='<button type="submit" class="px-4 py-2 bg-red-500 text-white rounded my-2">Tak</button>',d,k,w;return{c(){e=_("h1"),e.textContent=t,n=I(),a=_("form"),a.innerHTML=s,this.h()},l(u){e=h(u,"H1",{"data-svelte-h":!0}),$(e)!=="svelte-7540cg"&&(e.textContent=t),n=M(u),a=h(u,"FORM",{action:!0,method:!0,"data-svelte-h":!0}),$(a)!=="svelte-4mh65s"&&(a.innerHTML=s),this.h()},h(){r(a,"action","?/Delete"),r(a,"method","post")},m(u,m){X(u,e,m),X(u,n,m),X(u,a,m),k||(w=[et(d=lt.call(null,a,l[4])),Y(a,"submit",l[5])],k=!0)},p(u,m){d&&tt(d.update)&&m&1&&d.update.call(null,u[4])},d(u){u&&(y(e),y(n),y(a)),k=!1,ke(w)}}}function gt(l){let e,t,n,a,s=l[0].imie+"",d,k,w=l[0].nazwisko+"",u,m,i,C,v,p="Zmiana Login",c,f,g,b,L,U='<label for="zmianaHasła" class="block mb-2">Zmiana Hasła</label> <input type="password" name="zmianaHasła" id="zmianaHasła" class="w-full mb-4 p-2 border border-gray-300 rounded" placeholder="********"/>',ue,W,Z,Le="Zmiana Stanowiska",de,O,te,ce,J,j,Te="Zmiana Ranga",fe,D,x,$e="Brak Zmian",V,Ue="Administrator",N,De="Boss",B,He="Użytkownik",_e,q,A,F,Oe="Zmień Dane",he,P,xe="Usuń Użytkownika",le,me,S,pe,G,ve,Ve;function nt(z){l[6](z)}let Ne={$$slots:{default:[wt]},$$scope:{ctx:l}};return l[1]!==void 0&&(Ne.showModal=l[1]),S=new bt({props:Ne}),Ye.push(()=>ft(S,"showModal",nt)),{c(){e=_("div"),t=_("h2"),n=be("Wybrano: "),a=_("span"),d=be(s),k=I(),u=be(w),m=I(),i=_("div"),C=_("div"),v=_("label"),v.textContent=p,c=I(),f=_("input"),b=I(),L=_("div"),L.innerHTML=U,ue=I(),W=_("div"),Z=_("label"),Z.textContent=Le,de=I(),O=_("input"),ce=I(),J=_("div"),j=_("label"),j.textContent=Te,fe=I(),D=_("select"),x=_("option"),x.textContent=$e,V=_("option"),V.textContent=Ue,N=_("option"),N.textContent=De,B=_("option"),B.textContent=He,_e=I(),q=_("form"),A=_("div"),F=_("button"),F.textContent=Oe,he=I(),P=_("button"),P.textContent=xe,me=I(),ze(S.$$.fragment),this.h()},l(z){e=h(z,"DIV",{class:!0});var E=T(e);t=h(E,"H2",{class:!0});var Q=T(t);n=we(Q,"Wybrano: "),a=h(Q,"SPAN",{class:!0});var ne=T(a);d=we(ne,s),k=M(ne),u=we(ne,w),ne.forEach(y),Q.forEach(y),m=M(E),i=h(E,"DIV",{class:!0});var K=T(i);C=h(K,"DIV",{});var ae=T(C);v=h(ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(v)!=="svelte-3vp8a"&&(v.textContent=p),c=M(ae),f=h(ae,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),ae.forEach(y),b=M(K),L=h(K,"DIV",{"data-svelte-h":!0}),$(L)!=="svelte-1omq20x"&&(L.innerHTML=U),ue=M(K),W=h(K,"DIV",{});var se=T(W);Z=h(se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(Z)!=="svelte-msv28"&&(Z.textContent=Le),de=M(se),O=h(se,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),se.forEach(y),ce=M(K),J=h(K,"DIV",{});var oe=T(J);j=h(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(j)!=="svelte-somcca"&&(j.textContent=Te),fe=M(oe),D=h(oe,"SELECT",{name:!0,id:!0,class:!0});var ee=T(D);x=h(ee,"OPTION",{"data-svelte-h":!0}),$(x)!=="svelte-r8wwwn"&&(x.textContent=$e),V=h(ee,"OPTION",{"data-svelte-h":!0}),$(V)!=="svelte-1tswdx1"&&(V.textContent=Ue),N=h(ee,"OPTION",{"data-svelte-h":!0}),$(N)!=="svelte-6ejqhu"&&(N.textContent=De),B=h(ee,"OPTION",{"data-svelte-h":!0}),$(B)!=="svelte-10kpufd"&&(B.textContent=He),ee.forEach(y),oe.forEach(y),K.forEach(y),_e=M(E),q=h(E,"FORM",{action:!0,method:!0});var Be=T(q);A=h(Be,"DIV",{class:!0});var ie=T(A);F=h(ie,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(F)!=="svelte-549rx2"&&(F.textContent=Oe),he=M(ie),P=h(ie,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(P)!=="svelte-1ey43qx"&&(P.textContent=xe),ie.forEach(y),Be.forEach(y),me=M(E),Ee(S.$$.fragment,E),E.forEach(y),this.h()},h(){r(a,"class","underline decoration-2 decoration-sky-600"),r(t,"class","mb-4 "),r(v,"for","zmianaLogin"),r(v,"class","block mb-2"),r(f,"type","text"),r(f,"name","zmianaLogin"),r(f,"id","zmianaLogin"),r(f,"class","w-full mb-4 p-2 border border-gray-300 rounded"),r(f,"placeholder",g=l[0].imie),r(Z,"for","zmianaStanowiska"),r(Z,"class","block mb-2"),r(O,"type","text"),r(O,"name","zmianaStanowiska"),r(O,"id","zmianaStanowiska"),r(O,"class","w-full mb-4 p-2 border border-gray-300 rounded"),r(O,"placeholder",te=l[0].stanowisko),r(j,"for","zmianaRanga"),r(j,"class","block mb-2"),x.__value="",re(x,x.__value),V.__value="0",re(V,V.__value),N.__value="1",re(N,N.__value),B.__value="2",re(B,B.__value),r(D,"name","zmianaRanga"),r(D,"id","zmianaRanga"),r(D,"class","w-full p-2 border border-gray-300 rounded"),r(i,"class","grid grid-cols-2 gap-4"),r(F,"type","submit"),r(F,"class","px-4 py-2 bg-blue-500 text-white rounded"),r(P,"type","button"),r(P,"class","px-4 py-2 bg-red-500 text-white rounded"),r(A,"class","flex justify-between mt-4"),r(q,"action","?/zmianaDanychUżytkownika"),r(q,"method","post"),r(e,"class","p-4 bg-white rounded-lg w-full max-w-md")},m(z,E){X(z,e,E),o(e,t),o(t,n),o(t,a),o(a,d),o(a,k),o(a,u),o(e,m),o(e,i),o(i,C),o(C,v),o(C,c),o(C,f),o(i,b),o(i,L),o(i,ue),o(i,W),o(W,Z),o(W,de),o(W,O),o(i,ce),o(i,J),o(J,j),o(J,fe),o(J,D),o(D,x),o(D,V),o(D,N),o(D,B),o(e,_e),o(e,q),o(q,A),o(A,F),o(A,he),o(A,P),o(e,me),Ie(S,e,null),G=!0,ve||(Ve=[Y(P,"click",l[2]),et(le=lt.call(null,q,l[3]))],ve=!0)},p(z,[E]){(!G||E&1)&&s!==(s=z[0].imie+"")&&je(d,s),(!G||E&1)&&w!==(w=z[0].nazwisko+"")&&je(u,w),(!G||E&1&&g!==(g=z[0].imie))&&r(f,"placeholder",g),(!G||E&1&&te!==(te=z[0].stanowisko))&&r(O,"placeholder",te),le&&tt(le.update)&&E&1&&le.update.call(null,z[3]);const Q={};E&129&&(Q.$$scope={dirty:E,ctx:z}),!pe&&E&2&&(pe=!0,Q.showModal=z[1],it(()=>pe=!1)),S.$set(Q)},i(z){G||(H(S.$$.fragment,z),G=!0)},o(z){R(S.$$.fragment,z),G=!1},d(z){z&&y(e),Me(S),ve=!1,ke(Ve)}}}function kt(l,e,t){let{selectedUser:n}=e,a=!1;const s=()=>t(1,a=!0),d=({formData:m})=>{m.append("imie",n.imie),m.append("nazwisko",n.nazwisko)},k=({formData:m})=>{m.append("imie",n.imie),m.append("nazwisko",n.nazwisko)},w=()=>setTimeout(()=>window.location.reload(),1e3);function u(m){a=m,t(1,a)}return l.$$set=m=>{"selectedUser"in m&&t(0,n=m.selectedUser)},[n,a,s,d,k,w,u]}class Ct extends Ce{constructor(e){super(),ye(this,e,kt,gt,ge,{selectedUser:0})}}function Je(l,e,t){const n=l.slice();return n[6]=e[t],n}function Qe(l){let e,t;return e=new _t({props:{imie:l[6].imie,nazwisko:l[6].nazwisko,stanowisko:l[6].stanowisko,_id:l[6]._id,selected:l[1]&&l[1].imie===l[6].imie&&l[1].nazwisko===l[6].nazwisko&&l[1]._id===l[6]._id}}),e.$on("select",l[3]),{c(){ze(e.$$.fragment)},l(n){Ee(e.$$.fragment,n)},m(n,a){Ie(e,n,a),t=!0},p(n,a){const s={};a&1&&(s.imie=n[6].imie),a&1&&(s.nazwisko=n[6].nazwisko),a&1&&(s.stanowisko=n[6].stanowisko),a&1&&(s._id=n[6]._id),a&3&&(s.selected=n[1]&&n[1].imie===n[6].imie&&n[1].nazwisko===n[6].nazwisko&&n[1]._id===n[6]._id),e.$set(s)},i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){Me(e,n)}}}function Xe(l){let e,t,n,a;return t=new Ct({props:{selectedUser:l[1]}}),{c(){e=_("div"),ze(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var d=T(e);Ee(t.$$.fragment,d),d.forEach(y),this.h()},h(){r(e,"class","flex flex-col items-center justify-center")},m(s,d){X(s,e,d),Ie(t,e,null),a=!0},p(s,d){const k={};d&2&&(k.selectedUser=s[1]),t.$set(k)},i(s){a||(H(t.$$.fragment,s),s&&dt(()=>{a&&(n||(n=Ae(e,Ke,{duration:300},!0)),n.run(1))}),a=!0)},o(s){R(t.$$.fragment,s),s&&(n||(n=Ae(e,Ke,{duration:300},!1)),n.run(0)),a=!1},d(s){s&&y(e),Me(t),s&&n&&n.end()}}}function yt(l){let e,t,n,a,s,d="Panel administratora",k,w,u,m=Ge(l[0].pracownicy),i=[];for(let p=0;p<m.length;p+=1)i[p]=Qe(Je(l,m,p));const C=p=>R(i[p],1,1,()=>{i[p]=null});let v=l[1]&&Xe(l);return{c(){e=_("div"),t=_("div");for(let p=0;p<i.length;p+=1)i[p].c();n=I(),a=_("div"),s=_("h1"),s.textContent=d,k=I(),v&&v.c(),w=I(),this.h()},l(p){e=h(p,"DIV",{class:!0});var c=T(e);t=h(c,"DIV",{class:!0});var f=T(t);for(let b=0;b<i.length;b+=1)i[b].l(f);f.forEach(y),n=M(c),a=h(c,"DIV",{class:!0});var g=T(a);s=h(g,"H1",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-9iiq81"&&(s.textContent=d),k=M(g),v&&v.l(g),g.forEach(y),w=M(c),c.forEach(y),this.h()},h(){r(t,"class","w-64 overflow-scroll h-screen"),r(s,"class","text-center mb-4 text-5xl font-bold p-6"),r(a,"class","flex-grow items-center justify-center bg-gray-100"),r(e,"class","flex w-full h-screen")},m(p,c){X(p,e,c),o(e,t);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(t,null);o(e,n),o(e,a),o(a,s),o(a,k),v&&v.m(a,null),o(e,w),u=!0},p(p,[c]){if(c&11){m=Ge(p[0].pracownicy);let f;for(f=0;f<m.length;f+=1){const g=Je(p,m,f);i[f]?(i[f].p(g,c),H(i[f],1)):(i[f]=Qe(g),i[f].c(),H(i[f],1),i[f].m(t,null))}for(Fe(),f=m.length;f<i.length;f+=1)C(f);qe()}p[1]?v?(v.p(p,c),c&2&&H(v,1)):(v=Xe(p),v.c(),H(v,1),v.m(a,null)):v&&(Fe(),R(v,1,1,()=>{v=null}),qe())},i(p){if(!u){for(let c=0;c<m.length;c+=1)H(i[c]);H(v),u=!0}},o(p){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)R(i[c]);R(v),u=!1},d(p){p&&y(e),rt(i,p),v&&v.d()}}}function zt(l,e,t){let n,{data:a}=e,s=null;const d=ht(!1);ut(l,d,w=>t(5,n=w));async function k(w){const u=w.detail;if(s&&s.imie===u.imie&&s.nazwisko===u.nazwisko&&s._id===u._id){d.set(!1),t(1,s=null);return}t(1,s=u),ct(d,n=!0,n)}return l.$$set=w=>{"data"in w&&t(0,a=w.data)},[a,s,d,k]}class $t extends Ce{constructor(e){super(),ye(this,e,zt,yt,ge,{data:0})}}export{$t as component};
