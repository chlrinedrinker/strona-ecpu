import{p as E,i as _,a as L}from"./entry.DGLoN6pP.js";import{_ as g}from"./preload-helper.D6kgxu3v.js";function v(t){const r=JSON.parse(t);return r.data&&(r.data=E(r.data)),r}function h(t){return HTMLElement.prototype.cloneNode.call(t)}function H(t,r=()=>{}){const o=async({action:a,result:c,reset:n=!0,invalidateAll:i=!0})=>{c.type==="success"&&(n&&HTMLFormElement.prototype.reset.call(t),i&&await _()),(location.origin+location.pathname===a.origin+a.pathname||c.type==="redirect"||c.type==="error")&&L(c)};async function s(a){var p,f,b,y;if(((p=a.submitter)!=null&&p.hasAttribute("formmethod")?a.submitter.formMethod:h(t).method)!=="post")return;a.preventDefault();const n=new URL((f=a.submitter)!=null&&f.hasAttribute("formaction")?a.submitter.formAction:h(t).action),i=new FormData(t),u=(b=a.submitter)==null?void 0:b.getAttribute("name");u&&i.append(u,((y=a.submitter)==null?void 0:y.getAttribute("value"))??"");const m=new AbortController;let d=!1;const A=await r({action:n,cancel:()=>d=!0,controller:m,formData:i,formElement:t,submitter:a.submitter})??o;if(d)return;let l;try{const e=await fetch(n,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:i,signal:m.signal});l=v(await e.text()),l.type==="error"&&(l.status=e.status)}catch(e){if((e==null?void 0:e.name)==="AbortError")return;l={type:"error",error:e}}A({action:n,formData:i,formElement:t,update:e=>o({action:n,result:l,reset:e==null?void 0:e.reset,invalidateAll:e==null?void 0:e.invalidateAll}),result:l})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",s),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",s)}}}const T=(t,r)=>{const o=t[r];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((s,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+r)))})};let D="pl",w={};async function M(t){D=t,w=await T(Object.assign({"./locales/en.json":()=>g(()=>import("./en.BCK6i-Qn.js"),[],import.meta.url),"./locales/pl.json":()=>g(()=>import("./pl.D5QFcjRC.js"),[],import.meta.url)}),`./locales/${t}.json`),typeof window<"u"&&localStorage.setItem("language",t)}function I(t){return w[t]||t}if(typeof window<"u"){const t=localStorage.getItem("language");M(t||"pl")}export{D as c,H as e,M as l,I as t};
